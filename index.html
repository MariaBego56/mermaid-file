<script defer src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    mermaid.initialize({
      startOnLoad: true,
      securityLevel: 'loose',
      flowchart: { htmlLabels: true, useMaxWidth: true }
    });
  });
</script>

<!-- Mermaid diagram -->
<pre class="mermaid">
flowchart LR
  %% Diagram: VPN connection from public internet to home LAN

  %% Home network
  subgraph home["home network, .home domain — 10.10.10.0/24"]
    router["router"]
    pi4["pi4"]
    nas["NAS"]
    dots["..."]
    router --- pi4
    router --- nas
    router --- dots
  end

  %% External/public side
  internet(("public internet"))
  host["remote host<br/>10.10.10.11/24"]

  %% PPP connection
  host --|ppp0|--> internet
  internet --|ppp0|--> router

  %% VPN connection
  host -. "wg0<br/>10.10.10.10/32" .- pi4

  %% Reserved range note
  note["Reserved for VPN users:<br/>10.10.10.10–49"]
  note --- pi4
</pre>